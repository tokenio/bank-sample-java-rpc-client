package io.token.sample.rpc.client;

import io.token.proto.bankapi.Bankapi.CreateBulkTransferRequest;
import io.token.proto.bankapi.Bankapi.GetAccountRequest;
import io.token.proto.bankapi.Bankapi.GetBalanceRequest;
import io.token.proto.bankapi.Bankapi.GetTransactionsRequest;
import io.token.proto.bankapi.Bankapi.GetTransferStatusRequest;
import io.token.proto.bankapi.Bankapi.TransferRequest;
import io.token.proto.common.account.AccountProtos.AccountFeatures;
import io.token.proto.common.account.AccountProtos.BankAccount;
import io.token.proto.common.address.AddressProtos;
import io.token.proto.common.money.MoneyProtos;
import io.token.proto.common.token.TokenProtos;
import io.token.proto.common.transferinstructions.TransferInstructionsProtos;

class TestRequests {

    private static final String testTransferId = "t:BDJ5Yxhg8UsuH3AJeGbPRrLWGW6eFRfwrjwkUMguKaGh:3VMUBNCZMURCaZw";
    private static final String testTransferTransactionId = "1234567";
    /** This is the token id (usually Token will automatically populate this value),
     * it depends on how the Bank-Integration SDK is used by the bank as to whether this is required
     * (it's likely that it is not required).
     */
    private static final String testAisConsentId = "ta:9tJNYhJ1a4NxPhtgsCqWcLiVGpXJTYjyBUZcr3bNwu9A:5zKtXEAq";
    private static final String psuAccountPayload = "zEkDvb9tgJUPfOCk1AbTsbW/CBOSXsnAVOMe6qKkaM8=|m:2X7zH9tFewVRPNQvqHUNycmShdb6:5zKtXEAq";

    public static TransferRequest transferRequest() {
        return TransferRequest.newBuilder()
                .setTransferId(testTransferId)
                .setRequestedAmount(MoneyProtos.Money.newBuilder()
                        .setCurrency("GBP")
                        .setValue("1.9900")
                        .build())
                .setTransactionAmount(MoneyProtos.Money.newBuilder()
                        .setCurrency("GBP")
                        .setValue("1.9900")
                        .build())
                .setSource(BankAccount.newBuilder()
                        .setAccountFeatures(AccountFeatures.newBuilder()
                                .setSupportsInformation(true)
                                .setSupportsSendPayment(true)
                                .setSupportsReceivePayment(true)
                                .build())
                        .setCustom(BankAccount.Custom.newBuilder()
                                .setPayload("KrOojigVsGkuaSL12P37mLW/CBOSXsnAVOMe6qKkaM8=|m:2X7zH9tFewVRPNQvqHUNycmShdb6:5zKtXEAq")
                                .setBankId("coop-sit2")
                                .build())
                        .build())
                .addDestinations(TransferInstructionsProtos.TransferEndpoint.newBuilder()
                        .setAccount(BankAccount.newBuilder().setFasterPayments(BankAccount.FasterPayments.newBuilder()
                                .setAccountNumber("12345678")
                                .setSortCode("123456")
                                .build()).build())
                        .setCustomerData(TransferInstructionsProtos.CustomerData.newBuilder()
                                .addLegalNames( "Southside")
                                .setAddress(AddressProtos.Address.newBuilder()
                                        .setHouseNumber("10")
                                        .setHouseName("xyz")
                                        .setFlats("1")
                                        .setConscriptionNumber("1")
                                        .setStreet("Test Street")
                                        .setPlace("15 Testgate")
                                        .setPostCode("WC1B 2EB")
                                        .setCity("London")
                                        .setCountry("GB")
                                        .setFull("10 John Street, London WC1N")
                                        .setHamlet("xyz")
                                        .setSuburb("xyc")
                                        .setSubdistrict("xyz")
                                        .setDistrict("London")
                                        .setProvince("xyz")
                                        .setState("UK")
                                        .build())
                                .build())
                        .build())
                .setDescription("southside.com.noverifyQSB4X")
                .setTokenRefId("ot33poxr5d3ohgb5os")
                .setMetadata(TransferInstructionsProtos.TransferInstructions.Metadata.newBuilder()
                        .build())
                .setTokenInitiatorId("m:test")
                .addTransferDestinations(TransferInstructionsProtos.TransferDestination.newBuilder()
                        .setFasterPayments(TransferInstructionsProtos.TransferDestination.FasterPayments.newBuilder()
                                .setAccountNumber("12345678")
                                .setSortCode("123456")
                                .build())
                        .setCustomerData(TransferInstructionsProtos.CustomerData.newBuilder()
                                .addLegalNames( "Southside")
                                .setAddress(AddressProtos.Address.newBuilder()
                                        .setHouseNumber("10")
                                        .setHouseName("xyz")
                                        .setFlats("1")
                                        .setConscriptionNumber("1")
                                        .setStreet("Test Street")
                                        .setPlace("15 Testgate")
                                        .setPostCode("WC1B 2EB")
                                        .setCity("London")
                                        .setCountry("GB")
                                        .setFull("10 John Street, London WC1N")
                                        .setHamlet("xyz")
                                        .setSuburb("xyc")
                                        .setSubdistrict("xyz")
                                        .setDistrict("London")
                                        .setProvince("xyz")
                                        .setState("UK")
                                        .build())
                                .build())
                        .build())
                .setTransferInstructions(TransferInstructionsProtos.TransferInstructions.newBuilder()
                        .setSource(TransferInstructionsProtos.TransferEndpoint.newBuilder().setAccount(BankAccount.newBuilder()
                                        .setAccountFeatures(AccountFeatures.newBuilder()
                                                .setSupportsInformation(true)
                                                .setSupportsSendPayment(true)
                                                .setSupportsReceivePayment(true)
                                                .build())
                                        .setCustom(BankAccount.Custom.newBuilder()
                                                .setPayload("KrOojigVsGkuaSL12P37mLW/CBOSXsnAVOMe6qKkaM8=|m:2X7zH9tFewVRPNQvqHUNycmShdb6:5zKtXEAq")
                                                .setBankId("coop-sit2")
                                                .build())
                                        .build())

                                .build())
                        .addTransferDestinations(TransferInstructionsProtos.TransferDestination.newBuilder()
                                .setFasterPayments(TransferInstructionsProtos.TransferDestination.FasterPayments.newBuilder()
                                        .setAccountNumber("12345678")
                                        .setSortCode("123456")
                                        .build())
                                .setCustomerData(TransferInstructionsProtos.CustomerData.newBuilder()
                                        .addLegalNames( "Southside")
                                        .setAddress(AddressProtos.Address.newBuilder()
                                                .setHouseNumber("10")
                                                .setHouseName("xyz")
                                                .setFlats("1")
                                                .setConscriptionNumber("1")
                                                .setStreet("Test Street")
                                                .setPlace("15 Testgate")
                                                .setPostCode("WC1B 2EB")
                                                .setCity("London")
                                                .setCountry("GB")
                                                .setFull("10 John Street, London WC1N")
                                                .setHamlet("xyz")
                                                .setSuburb("xyc")
                                                .setSubdistrict("xyz")
                                                .setDistrict("London")
                                                .setProvince("xyz")
                                                .setState("UK")
                                                .build())
                                        .build())
                                .build()))
                .setConsentId("tt:C9JaUJL7AgdfowvhK7KpXxwTkHqLYW119FV6UctsUokC:3VMUBNCZMURCaZw")
                .setRemittanceReference("abcd1234")
                .setReturnRefundAccount(true)
                .build();
    }

    public static TransferRequest minimalTransferRequest() {
        return TransferRequest.newBuilder()
                .setTransferId("t:9zdwiPVSTfyetJJx58CGA5juDfjmKeyjEC7V2SQBJZtH:3VMUBNCZMURCaZw")
                .setTransactionAmount(MoneyProtos.Money.newBuilder()
                        .setCurrency("GBP")
                        .setValue("1.9900")
                        .build())
                .setDescription("southside.com.noverifyQSB4X")
                .setTokenRefId("ot33poxr5d3ohgb5os")
                .setTokenInitiatorId("m:test")
                .setTransferInstructions(TransferInstructionsProtos.TransferInstructions.newBuilder()
                        .setSource(TransferInstructionsProtos.TransferEndpoint.newBuilder().setAccount(BankAccount.newBuilder()
                                        .setAccountFeatures(AccountFeatures.newBuilder()
                                                .setSupportsInformation(true)
                                                .setSupportsSendPayment(true)
                                                .setSupportsReceivePayment(true)
                                                .build())
                                        .setCustom(BankAccount.Custom.newBuilder()
                                                .setPayload("KrOojigVsGkuaSL12P37mLW/CBOSXsnAVOMe6qKkaM8=|m:2X7zH9tFewVRPNQvqHUNycmShdb6:5zKtXEAq")
                                                .setBankId("coop-sit2")
                                                .build())
                                        .build())
                                .build())
                        .addTransferDestinations(TransferInstructionsProtos.TransferDestination.newBuilder()
                                .setFasterPayments(TransferInstructionsProtos.TransferDestination.FasterPayments.newBuilder()
                                        .setAccountNumber("12345678")
                                        .setSortCode("123456")
                                        .build())
                                .setCustomerData(TransferInstructionsProtos.CustomerData.newBuilder()
                                        .addLegalNames( "Southside")
                                        .setAddress(AddressProtos.Address.newBuilder()
                                                .setHouseNumber("10")
                                                .setHouseName("xyz")
                                                .setFlats("1")
                                                .setConscriptionNumber("1")
                                                .setStreet("Test Street")
                                                .setPlace("15 Testgate")
                                                .setPostCode("WC1B 2EB")
                                                .setCity("London")
                                                .setCountry("GB")
                                                .setFull("10 John Street, London WC1N")
                                                .setHamlet("xyz")
                                                .setSuburb("xyc")
                                                .setSubdistrict("xyz")
                                                .setDistrict("London")
                                                .setProvince("xyz")
                                                .setState("UK")
                                                .build())
                                        .build())
                                .build()))
                .setConsentId("tt:C9JaUJL7AgdfowvhK7KpXxwTkHqLYW119FV6UctsUokC:3VMUBNCZMURCaZw")
                .setRemittanceReference("abcd1234")
                .setReturnRefundAccount(true)
                .build();
    }

    public static GetBalanceRequest getBalanceRequest() {
        return GetBalanceRequest.newBuilder()
                .setConsentId(testAisConsentId)
                .setAccount(BankAccount.newBuilder()
                        .setAccountFeatures(AccountFeatures.newBuilder()
                                .setSupportsInformation(true)
                                .setSupportsSendPayment(true)
                                .setSupportsReceivePayment(true)
                                .build())
                        .setCustom(BankAccount.Custom.newBuilder()
                                .setPayload("KrOojigVsGkuaSL12P37mLW/CBOSXsnAVOMe6qKkaM8=|m:2X7zH9tFewVRPNQvqHUNycmShdb6:5zKtXEAq")
                                .setBankId("coop-sit2")
                                .build())
                        .build())
                .build();
    }

    public static GetAccountRequest getAccountRequest() {
        return GetAccountRequest.newBuilder()
                .setConsentId(testAisConsentId)
                .setAccount(BankAccount.newBuilder()
                        .setAccountFeatures(AccountFeatures.newBuilder()
                                .setSupportsInformation(true)
                                .setSupportsSendPayment(true)
                                .setSupportsReceivePayment(true)
                                .build())
                        .setCustom(BankAccount.Custom.newBuilder()
                                .setPayload("KrOojigVsGkuaSL12P37mLW/CBOSXsnAVOMe6qKkaM8=|m:2X7zH9tFewVRPNQvqHUNycmShdb6:5zKtXEAq")
                                .setBankId("coop-sit2")
                                .build())
                        .build())
                .build();
    }

    public static GetTransactionsRequest getTransactionsRequest() {
        return GetTransactionsRequest.newBuilder()
                .setConsentId(testAisConsentId)
                .setLimit(10)
                .setAccount(BankAccount.newBuilder()
                        .setAccountFeatures(AccountFeatures.newBuilder()
                                .setSupportsInformation(true)
                                .setSupportsSendPayment(true)
                                .setSupportsReceivePayment(true)
                                .build())
                        .setCustom(BankAccount.Custom.newBuilder()
                                .setPayload("KrOojigVsGkuaSL12P37mLW/CBOSXsnAVOMe6qKkaM8=|m:2X7zH9tFewVRPNQvqHUNycmShdb6:5zKtXEAq")
                                .setBankId("coop-sit2")
                                .build())
                        .build())
                .build();
    }

    public static CreateBulkTransferRequest bulkTransferRequest() {
        return CreateBulkTransferRequest.newBuilder()
                .setTokenBulkTransferId("bt:C9JaUJL7AgdfowvhK7KpXxwTkHqLYW119FV6UctsUokC:3VMUBNCZMURCaZw")// Token reference for the bulk transfer
                .setRefId("ghnvs7ha29bsb9m0v9")
                .setTokenInitiatorId("m:48KR5bH9xco7DZ59FuWaiviLcdnC:5zKtXEAq")// ID of member who requested token creation
                .setPayload(TokenProtos.BulkTransferBody.newBuilder()
                        .addTransfers(TokenProtos.BulkTransferBody.Transfer.newBuilder()
                                .setAmount("1.99")
                                .setCurrency("GBP")
                                .setRefId("2")
                                .setDescription("test transfer")
                                .setDestination(TransferInstructionsProtos.TransferDestination.newBuilder()
                                        .setFasterPayments(TransferInstructionsProtos.TransferDestination.FasterPayments.newBuilder()
                                                .setAccountNumber("55656666")
                                                .setSortCode("400400")
                                                .build())
                                        .setCustomerData(TransferInstructionsProtos.CustomerData.newBuilder()
                                                .addLegalNames("Southside")
                                                .setAddress(AddressProtos.Address.newBuilder()
                                                        .setHouseNumber("10")
                                                        .setHouseName("xyz")
                                                        .setFlats("1")
                                                        .setConscriptionNumber("1")
                                                        .setStreet("John Street")
                                                        .setPlace("15 Bishopsgate")
                                                        .setPostCode("WC1N 2EB")
                                                        .setCity("London")
                                                        .setCountry("GB")
                                                        .setFull("10 John Street, London, WC1N")
                                                        .setHamlet("xyz")
                                                        .setSuburb("xyz")
                                                        .setSubdistrict("xyz")
                                                        .setDistrict("xyz")
                                                        .setProvince("xyz")
                                                        .setState("UK")
                                                        .build())
                                                .build())
                                        .build())
                                .build())
                        .setTotalAmount("1.99")
                        .setSource(TransferInstructionsProtos.TransferEndpoint.newBuilder()
                                .setAccount(BankAccount.newBuilder()
                                        .setAccountFeatures(AccountFeatures.newBuilder()
                                                .setSupportsInformation(true)
                                                .setSupportsSendPayment(true)
                                                .setSupportsReceivePayment(true)
                                                .build())
                                        .setCustom(BankAccount.Custom.newBuilder()
                                                .setBankId("coop-sit2")
                                                .setPayload(psuAccountPayload)
                                                .build())
                                        .build())
                                .setBankId("coop-sit2")
                                .build())
                        .build())
                .setSource(BankAccount.newBuilder()
                        .setAccountFeatures(AccountFeatures.newBuilder()
                                .setSupportsInformation(true)
                                .setSupportsSendPayment(true)
                                .setSupportsReceivePayment(true)
                                .build())
                        .setCustom(BankAccount.Custom.newBuilder()
                                .setBankId("coop-sit2")
                                .setPayload(psuAccountPayload)
                                .build())
                        .build())
                .setDescription("southside.com.noverifyICJON")
                .setSourceAccount(TransferInstructionsProtos.TransferEndpoint.newBuilder()
                        .setAccount(BankAccount.newBuilder()
                                .setAccountFeatures(AccountFeatures.newBuilder()
                                        .setSupportsInformation(true)
                                        .setSupportsSendPayment(true)
                                        .setSupportsReceivePayment(true)
                                        .build())
                                .setCustom(BankAccount.Custom.newBuilder()
                                        .setBankId("coop-sit2")
                                        .setPayload(psuAccountPayload)
                                        .build())
                                .build())
                        .setBankId("coop-sit2")
                        .build())
                .setConsentId("tt:C9JaUJL7AgdfowvhK7KpXxwTkHqLYW119FV6UctsUokC:3VMUBNCZMURCaZw")
                .build();
    }

    public static GetTransferStatusRequest getTransferStatusRequest() {
        return GetTransferStatusRequest.newBuilder()
                .setTransferId(testTransferId)
                .setTransactionId(testTransferTransactionId)
                .build();
    }
}
